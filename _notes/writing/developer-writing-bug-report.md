---
layout: note
title: 개발자의 글쓰기 - 장애 보고서 쓰기
date: 2023-12-05
---




- 장애 보고서는 보통의 개발 문서와 크게 다릅니다.
- 그래서 장애 보고서는 그 특성을 충분히 이해하고 쓰지 않으면 쓸모가 없습니다.
- 장애 보고서는 **신속하게, 분석적으로, business 관점에서, 정치적으로** 작성해야 합니다.




---




## 신속한 글쓰기 : 질문에 대답하기

- 장애 보고서는 개발자가 원할 때 쓸 수 없습니다.

- 장애 보고서는 장애 발생을 인지하는 순간부터 쓸 수 있습니다.
    - 장애가 발생하기 전에 미리 쓸 수 없습니다.
    - 장애를 예상하고 써놓을 수 없습니다.

- 따라서 **신속한 글쓰기**가 필요합니다.
    - 장애 보고는 장애를 해결하면서도 해야 합니다.

- **대화를 글로 옮기는 방법**으로 글을 신속하게 쓸 수 있습니다.
    - 대화를 할 때는 일단 무슨 말이든 내뱉고 나서 생각을 정리하고, 질문을 받으면 답하면서 다음 생각으로 이어갑니다.

- 질문과 대답을 개조식으로 정리하여 사용합니다.
    - **질문은 장애 보고서의 항목**입니다.
    - **대답은 장애 보고서의 내용**입니다.

```mermaid
---
title: "장애 정의 : 사용자가(주어) 결제를(목적어) 할 수 없다(서술어)"
---
flowchart TD

one --> two --> three --> four --> five --> six --> seven

subgraph one[장애 내용]
    q_one([뭐야, 뭐야? 무슨 일이야?]) --> a_one[오늘 오전 10시부터 11시까지 장애가 났어.\n아주 난리였지. 사용자가 결제를 할 수 없었다니까.]
end

subgraph two[장애 영향]
    q_two([그래서 어떻게 됐어?]) --> a_two[결제 시도가 100건이었는데 안 됐어.\n원래는 장바구니에 넣고 1시간 이내에 결제하는 비율이 50% 정돈데,\n이번 건은 정상화 되고 1시간이 지났는데도 10% 밖에 안 돼.\n40%는 날아간 거야.]
end

subgraph three[장애 원인]
    q_three([왜 그렇게 됐어?]) --> a_three[server 개발자가 결제 module을 바꾸면서 module interface와 관련한 함수 하나를 바꿨거든.\n근데 그걸 나한테 안 알려줬어. 그러니 내가 맡은 front에서는 기존 함수를 호출하려니 안 된 거야.]
end

subgraph four[조치 상황]
    q_four([넌 어떻게 했는데?]) --> a_four[일단 server 개발자한테 바뀐 함수를 받아서\n내 쪽에서 code를 수정했어.]
end

subgraph five[조치 결과]
    q_five([그럼 이제 장애는 해결된 거야?]) --> a_five[응. 이제 결제는 잘 돼.]
end

subgraph six[핵심 원인]
    q_six([누가 잘못한 거야?]) --> a_six[server 개발자가 잘못한 거지.\n함수를 바꾸려면 나한테 말하고 바꿨어야 했는데, 그러지 않았으니까.]
end

subgraph seven[향후 대책]
    q_seven([그럼 이제 어떻게 할 거야?]) --> a_seven[일단 우리 팀장이 server 쪽 팀장하고 얘기해서 communication 방법을 바꿔야지.\n문서로 하든, 주간 업무 협의를 하든 빨리 결정해서 보고 해야 될거야.]
end
```

### 질문과 대답을 이용해 완성한 장애 보고서

제목 : Server Module 변경 문제로 사용자 결제 불가 (10~11 시)

| 항목 | 내용 |
| --- | --- |
| 항목 | 내용 |
| --- | --- |
| 장애 내용 | 사용자 결제 불가 (10:00 ~ 11:00, 1시간) |
| 장애 영향 | 장애 중 결제 시도 100건 -> 1시간 후 결제 비율 10% (평균 50%) |
| 장애 원인 | server 쪽 결제 module 변셩 시 module interface의 함수를 수정했으나,<br>front에서는 기존 함수를 호출하여 오류 발생 |
| 조치 상황 | server 쪽의 바뀐 함수를 호출하도록 front code 수정 |
| 조치 결과 | 결제 기능 정상 작동 |
| 핵심 원인 | server 쪽과 front 쪽 communication 단절 |
| 향후 대책 | server, front 팀장이 소통 방법 협의하여 보고 |




---




## 분석적 글쓰기 : 원인과 이유를 찾기

- 장애의 1차 원인은 대부분 다른 원인의 결과입니다.

- 장애의 원인을 정확히 알아내려면, **원인의 원인**을 계속 찾아 나가야 합니다.
    - 더는 원인의 원인을 찾을 수 없을 때, 그 원인이 장애의 최초 원인입니다.

- 장애의 최초 원인을 찾았다면, 그 원인이 발생한 이유도 알아야 합니다.
    - 장애의 재발을 막으려면 원인만 해결해서는 안 됩니다.
    - 원인이 발생한 이유를 분석합니다.
        - 이유는 사람에게 있습니다.

- 원인과 이유를 찾는 **분석적 글쓰기**가 필요합니다.




---




## Business 관점의 글쓰기 : 상사를 고려하기

- 장애 보고를 받는 윗사람은 대부분 개발자가 아닙니다.

- 윗사람(e.g., 임원)은 장애를 곧 business에 주는 영향으로 봅니다.
    - 장애가 발생했다는 보고를 받으면, "그래서 손해가 얼마인가요?"라고 질문할 수 있습니다.

- 보고를 받는 사람과 소통하기 위한 **business 관점의 글쓰기**가 필요합니다.




---




## 정치적 글쓰기 : 원하는 것을 얻어내기

- 장애를 해결했다고 해서 100% 해결한 것은 아닙니다.

- 장애 조치를 했다고 해서 다시는 재발하지 않는다고 확정할 수 없습니다.
    - 장애는 항상 예상하지 못한 곳에서 발생하기 때문입니다.

- 그러나 윗사람에게 보고할 때는 확정적이고 신뢰할 만한 결단을 정치적으로 내려야 합니다.
    - 윗사람 입장에서는 확정적인 대답을 원하며, 애매한 표현을 싫어하기 때문입니다.

- 따라서 **정치적 글쓰기**가 필요합니다.




---




# Reference

- 개발자의 글쓰기 (도서) - 김철수
