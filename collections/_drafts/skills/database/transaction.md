---
title: Transaction - 작업의 논리적 단위
layout: skill
date: 2024-10-09
---




## Transaction : 작업의 논리적 단위

- 데이터베이스에서 transaction은 데이터베이스 내에서 수행되는 작업의 논리적 단위로, 여러 개의 작업(쿼리)이 하나의 단위로 묶여 처리되는 것을 의미합니다.


### 트랜잭션의 주요 특성 (ACID)

1. **Atomicity (원자성)** : 트랜잭션의 모든 작업은 전부 성공하거나, 전부 실패해야 합니다.
    - 일부 작업만 성공하고 나머지는 실패하는 상황은 허용되지 않습니다.
    - 예를 들어, 은행 계좌 간의 이체에서, 돈을 출금한 뒤 입금 과정에서 오류가 발생하면 트랜잭션 전체가 취소되어야 하며, 출금 또한 무효화되어야 합니다.

2. **Consistency (일관성)** : 트랜잭션이 완료된 후 데이터베이스는 일관된 상태를 유지해야 합니다.
    - 이는 트랜잭션 전후에 데이터베이스의 상태가 지정된 제약 조건을 항상 만족해야 함을 의미합니다.
    - 예를 들어, 데이터베이스에 무결성 제약 조건이 적용되어 있다면, 트랜잭션이 수행된 후에도 그 조건이 여전히 충족되어야 합니다.

3. **Isolation (격리성)** : 여러 트랜잭션이 동시에 실행되더라도 각각의 트랜잭션은 독립적으로 수행된 것처럼 보장되어야 합니다.
    - 즉, 하나의 트랜잭션이 완료되기 전까지 다른 트랜잭션은 그 결과에 접근할 수 없어야 합니다.
    - 데이터베이스는 격리 수준을 통해 트랜잭션 간의 상호 간섭을 어느 정도 허용할지 설정할 수 있습니다.

4. **Durability (지속성)** : 트랜잭션이 성공적으로 완료되면 그 결과는 영구적으로 데이터베이스에 저장되어야 합니다.
    - 시스템에 장애가 발생하더라도, 트랜잭션이 완료된 내용은 손실되지 않도록 보장되어야 합니다.


### 트랜잭션의 예시 : 은행 계좌 간의 이체

```txt
1. A 계좌에서 100원을 출금합니다.
2. B 계좌에 100원을 입금합니다.
```

- 이 두 작업이 하나의 트랜잭션으로 묶여 있다면, 두 작업 모두가 성공해야 트랜잭션이 완전히 완료됩니다.
- 만약 두 번째 작업(입금)에 실패한다면, 첫 번째 작업(출금) 또한 무효화되어야 합니다.

























---




## Reference

- <https://velog.io/@shasha/Database-트랜잭션-정리>
- 
