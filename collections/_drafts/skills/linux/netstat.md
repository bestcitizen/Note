---
layout: skill
title: netstat - 네트워크 상태 확인
date: 2024-10-02
---





## `netstat` : 네트워크 통계 출력하기

- `netstat` 명령어는 **네트워크 통계(Network Statistics)**를 출력하는 명령어로, 현재 시스템의 네트워크 연결 상태, 라우팅 테이블, 네트워크 인터페이스 통계 등을 보여줍니다.
    - 이 명령어는 네트워크 문제 해결, 성능 모니터링, 보안 점검 등에 유용하게 사용됩니다.

- `netstat` 명령어는 시스템의 네트워크 상태를 전반적으로 파악하고 관리하는 데 필수적인 도구입니다.
    - 다양한 옵션을 활용하여 필요한 정보를 효과적으로 추출하고, 이를 통해 시스템의 보안성과 성능을 향상시킬 수 있습니다.


## 주요 기능

- **활성화된 네트워크 연결 조회**: 현재 시스템에서 열려 있는 모든 TCP, UDP 포트와 연결 상태를 확인할 수 있습니다.
- **라우팅 테이블 표시**: 패킷이 네트워크를 통해 어떻게 이동하는지 보여주는 라우팅 정보를 제공합니다.
- **네트워크 인터페이스 통계**: 각 네트워크 인터페이스의 송수신 패킷 수, 에러 발생 횟수 등을 확인할 수 있습니다.
- **멀티캐스트 그룹**: 멀티캐스트 통신에 참여하고 있는 그룹 정보를 보여줍니다.

## 기본 사용법

```bash
netstat [옵션]
```

## 주요 옵션 설명

### 공통 옵션 (Unix/Linux 및 Windows)

- `-a`: 모든 연결과 리스닝 포트를 표시합니다.
- `-n`: 호스트명이나 서비스명을 숫자 형태의 IP 주소와 포트 번호로 표시합니다.
- `-e`: 확장 정보를 표시합니다. (예: 인터페이스 통계)
- `-r`: 커널의 라우팅 테이블을 표시합니다.
- `-s`: 각 프로토콜별 통계 정보를 보여줍니다.

### Unix/Linux 전용 옵션

- `-t`: TCP 프로토콜의 연결 상태를 표시합니다.
- `-u`: UDP 프로토콜의 연결 상태를 표시합니다.
- `-l`: 현재 리스닝 중인 소켓만 표시합니다.
- `-p`: 각 소켓에 관련된 프로세스 ID와 프로그램명을 표시합니다. (root 권한 필요)
- `-c`: 지정한 간격으로 지속적으로 정보를 업데이트하여 표시합니다.

### Windows 전용 옵션

- `-b`: 각 연결 또는 포트를 생성한 실행 파일을 표시합니다. (관리자 권한 필요)
- `-o`: 각 연결에 관련된 프로세스 ID를 표시합니다.
- `-p [프로토콜]`: 특정 프로토콜(TCP, UDP, TCPv6, UDPv6)에 대한 연결 상태만 표시합니다.

## 상세 사용 예시

### 1. 모든 연결과 리스닝 포트 표시

```bash
netstat -a
```

이 명령어는 현재 시스템에서 열려 있는 모든 연결과 포트를 표시합니다.

### 2. TCP 연결 상태 확인

```bash
netstat -at
```

TCP 프로토콜의 연결 상태만 필터링하여 보여줍니다.

### 3. UDP 연결 상태 확인

```bash
netstat -au
```

UDP 프로토콜의 연결 상태만 표시합니다.

### 4. 숫자 형태로 주소와 포트 표시

```bash
netstat -an
```

DNS 조회를 하지 않고 IP 주소와 포트 번호를 숫자로 표시하여 출력 속도를 향상시킵니다.

### 5. 프로세스 ID와 프로그램명 표시

```bash
sudo netstat -ap
```

각 연결에 관련된 프로세스 ID(PID)와 프로그램명을 표시합니다. 이 옵션은 root 권한이 필요합니다.

### 6. 라우팅 테이블 확인

```bash
netstat -r
```

시스템의 현재 라우팅 테이블 정보를 보여줍니다.

### 7. 네트워크 인터페이스 통계 확인

```bash
netstat -i
```

각 네트워크 인터페이스의 패킷 송수신량, 에러 발생 횟수 등을 표시합니다.

### 8. 프로토콜별 통계 정보 표시

```bash
netstat -s
```

TCP, UDP, ICMP 등 각 프로토콜별로 상세한 통계 정보를 제공합니다.

### 9. 특정 포트로 필터링

예를 들어, 80번 포트로 연결된 정보를 확인하려면:

```bash
netstat -an | grep ':80'
```

### 10. 지속적으로 상태 모니터링

```bash
netstat -c
```

1초 간격으로 정보를 업데이트하여 실시간으로 네트워크 상태를 모니터링합니다.

### 호환성 및 권한

- **권한**: 일부 옵션은 시스템의 네트워크 정보를 자세히 표시하기 때문에 root 또는 관리자 권한이 필요할 수 있습니다.
- **운영 체제 호환성**: `netstat`은 대부분의 Unix/Linux 배포판과 Windows에서 사용할 수 있지만, 옵션이나 출력 형식이 다를 수 있으므로 운영 체제의 매뉴얼 페이지(`man netstat`)를 참고하는 것이 좋습니다.

## 활용 사례

- **보안 점검**: 예상치 못한 포트가 열려 있거나 알 수 없는 연결이 존재하는지 확인하여 보안 위험을 사전에 발견할 수 있습니다.
- **네트워크 문제 해결**: 특정 서비스의 포트가 제대로 열려 있는지, 연결 상태는 어떤지 등을 확인하여 문제 원인을 파악합니다.
- **시스템 모니터링**: 네트워크 트래픽의 흐름과 패턴을 관찰하여 시스템 성능 최적화에 활용할 수 있습니다.












































`netstat`는 네트워크 연결, 라우팅 테이블, 네트워크 인터페이스 통계, 멀티캐스트 멤버십 등을 보여주는 네트워크 도구입니다. 이 도구는 컴퓨터가 다른 네트워크 장치와 통신하는 방법에 대한 정보를 제공합니다. `netstat`는 주로 네트워크 문제를 해결하거나 네트워크 성능을 모니터링할 때 유용합니다.

### 주요 기능:

1. **네트워크 연결 확인**: 시스템에서 활성화된 모든 TCP, UDP 연결을 보여줍니다.
   - 예시: `netstat -an`  
     모든 네트워크 연결을 숫자로 보여줍니다.

2. **포트 상태 확인**: 현재 시스템에서 열려 있는 포트와 그 상태를 보여줍니다.
   - 예시: `netstat -tuln`  
     TCP, UDP 연결 및 리스닝 포트를 보여줍니다.

3. **네트워크 인터페이스 상태 확인**: 네트워크 인터페이스의 통계 정보를 확인할 수 있습니다.
   - 예시: `netstat -i`  
     인터페이스의 패킷 전송 및 오류 상태를 보여줍니다.

4. **라우팅 테이블 확인**: 시스템이 사용하고 있는 라우팅 정보를 보여줍니다.
   - 예시: `netstat -r`  
     라우팅 테이블 정보를 보여줍니다.

5. **프로세스와 연결된 포트 확인**: 각 포트와 그 포트를 사용 중인 프로세스 정보를 확인할 수 있습니다.
   - 예시: `netstat -p`  
     포트와 연결된 프로세스 ID를 보여줍니다.

### 일반적으로 사용되는 옵션:
- `-a`: 모든 연결 및 포트 표시
- `-n`: 호스트 이름 대신 IP 주소를 숫자로 표시
- `-t`: TCP 연결만 표시
- `-u`: UDP 연결만 표시
- `-l`: 리스닝 중인 소켓만 표시
- `-p`: 포트를 사용 중인 프로세스 ID(PID)를 표시

이 도구는 네트워크 진단, 보안 모니터링, 그리고 성능 분석에서 매우 유용합니다.






