---
layout: skill
title: OSI Model (OSI 7 계층)
date: 2024-09-05
---




## OSI 7 계층 : 네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것

- **OSI Model**(Open Systems Interconnection Reference Model)은 국제표준화기구(ISO)에서 개발한 모델로, **컴퓨터 네트워크 프로토콜 디자인과 통신을 계층으로 나누어 개념적으로 설명한 것**입니다.
    - 일반적으로 OSI 7 계층이라 불리기도 합니다.
    - 데이터 통신을 **7개의 추상적인 계층으로 분리**하고, 프로토콜을 네트워킹 기능으로 적절히 묶어 **표준화**합니다.

- OSw 7 계층 모델은 네트워크 통신 과정을 **7개의 추상적인 계층**으로 나누어 **각 계층이 특정 기능을 수행하도록 정의한 개념적 프레임워크**입니다.
    - 이는 복잡한 네트워크 통신 과정을 단계별로 이해하고, 문제 발생 시 해당 계층만 집중적으로 분석하여 해결할 수 있도록 돕습니다.
    - 또한, 다양한 벤더와 기술 간의 상호 운용성을 보장하여 효율적인 통신 환경을 구축할 수 있도록 합니다.
 
- network 문제가 발생했을 때, OSI Model은 **다른 계층에 있는 장비나 소프트웨어를 건드리지 않고 문제를 해결**할 수 있도록 돕습니다.
    - 만약 회사에서 업무를 보는데 인터넷 연결이 끊겼다면, 문제의 원인이 어디에 있는지 알아봐야 할 것입니다.
    - 모든 PC에 문제가 있다면, 라우터의 문제(3 계층 네트워크 계층)이거나 광랜을 제공하는 회사의 회선(1 계층 물리 계층) 문제일 가능성이 높습니다.
    - 한 PC만 문제가 있다면, 문제 PC가 사용하는 소프트웨어(7 계층 애플리케이션 계층)의 문제일 수 있습니다.
    - 소프트웨어에 문제가 없다면, 스위치(2 계층 데이터 링크 계층)의 문제일 수 있습니다.

- 각 계층은 **하위 계층의 기능만을 이용**하고, **상위 계층에게 기능을 제공**합니다.
    - 프로토콜 스택은 하드웨어나 소프트웨어 혹은 둘의 혼합으로 구현될 수 있습니다.
        - 프로토콜 스택(혹은 스택) : 상위와 하위 계층들로 구성되는 프로토콜 시스템이 구현된 시스템.
    - 이러한 프로토콜 스택은 일반적으로 **하위 계층들은 하드웨어로, 상위 계층들은 소프트웨어로 구현**됩니다.

| 계층 | 특징 | 주요 프로토콜/기술 |
| --- | --- | --- |
| **L7. 응용 계층 (Application)** | 데이터 표현 및 변환. 사용자 인터페이스 제공(네트워크 소프트웨어 UI, 사용자의 입출력 I/O). | HTTP, FTP, IRC, SSH, DNS. |
| **L6. 표현 계층 (Presentation)** | 사용자의 명령어 완성 및 결과 표현. 데이터 포장(형식 변환), 압축, 암호화. | SSL, SSH, IMAP, FTP, MPEG, JPEG. |
| **L5. 세션 계층 (Session)** | (운영체제가 해주는) 통신 세션 설정(확립), 관리(유지), 종료(중단). | API, Sockets, WinSock. |
| **L4. 전송 계층 (Transport)** | 데이터 신뢰성 및 흐름 제어. 포트 번호 사용. 패킷 생성(Assembly, Sequencing, Deassembly, Error detection, Request repeat, Flow control). | TCP, UDP. |
| **L3. Network 계층 (Network)** | 논리 주소 부여(IP), 경로 설정(Route). | IP, ICMP, IPSec, IGMP. |
| **L2. Data Link 계층 (Data Link)** | 프레임에 물리적 주소(MAC) 부여. 오류 검출, 재전송, 흐름 제어. | Ethernet, PPP, Switch, Bridge. |
| **L1. 물리 계층 (Physical)** | 데이터 비트 전송. 물리적 연결 및 신호 변환. | Coax, Fiber, Wireless, Hubs, Repeaters. |


### OSI 7계층에 대한 오해 : 이론과 실무의 괴리

- **네트워크 참조 모델(OSI 7계층, TCP/IP 4계층)에 대한 여러가지 오해**가 존재합니다.
    1. "네트워크 지식 = 네트워크 참조 모델"이라는 오해.
    2. 모든 프로토콜/장비가 네트워크 참조 모델에 정확히 대응된다는 오해.
    3. 네트워크 참조 모델이 반드시 지켜야 할 규칙이라는 오해.

- 그러나 네트워크 참조 모델은 **네트워크 구성 및 설계를 돕는 '참조' 모델일 뿐**입니다.
    - 새로운 프로토콜과 장비는 계속해서 만들어지며, 모든 것이 모델에 완벽히 대응되지는 않습니다.
    - TCP/IP 모델처럼 계층의 이름과 개수가 다양하게 기술되는 것은 규칙이 아니기 때문입니다.
        - TCP/IP 모델은 유연한 참조 모델이기 때문에, 계층 구조가 다양하게 표현될 수 있습니다.

- 네트워크 통신의 실질적인 동작 주체이자 규칙은 **프로토콜과 네트워크 장비**입니다.
    - 네트워크 참조 모델이나 특정 계층이 네트워크를 작동시키는 것이 아닙니다.
    - 따라서 개발자에게는 실제 통신에 사용되는 프로토콜/장비의 규칙성을 이해하는 것이 더 중요합니다.

- 결국 **네트워크 참조 모델은 네트워크 구성 및 설계를 위한 '밑그림'**일 뿐, 반드시 지켜야 할 규칙이나 실제 동작하는 주체가 아닙니다.
    - 네트워크 참조 모델은 중요한 배경 지식이지만, 실무에서는 각 계층과 역할에 대한 암기보다 프로토콜과 장비에 대한 이해가 중요합니다.
        - 예를 들어, 웹 개발 시 HTTP/HTTPS와 같은 프로토콜 이해가 중요하며, 실무 관점에서 계층별 암기는 상대적으로 덜 중요합니다.




---




## Layer 1. 물리 계층 (Physical Layer)

| 특징 | 설명 |
| --- | --- |
| **전송 단위** | bit (1과 0) |
| **대표 장치** | 케이블, 안테나, 앰프, 네트워크 허브, 리피터 등 |
| **Protocol** | 이더넷, USB 등 케이블 , Bluetooth, Wi-Fi, LTE, 5G 등 안테나 |

- 물리 계층은 **실제 장치들을 연결하기 위해 필요한 전기적, 물리적 세부 사항들을 정의**합니다.
    - 예를 들어, 핀들의 배치나 전압, 전선의 명세 등이 이 계층에 포함됩니다.

- 물리 계층은 네트워크상에서 **데이터 비트를 전송하는 계층**이며, **데이터를 전기적인 아날로그 신호(1과 0, On과 Off)로 변환해서 주고받는 기능**을 합니다.
    - 1과 0으로 이루어진 bit만 전달하면 되기 때문에 주로 전기적, 기계적, 기능적인 특성을 이용한 **통신 케이블로 데이터를 전송**합니다.
        - 물리 계층에서 유일하게 사용되는 통신 단위는 1과 0으로 나뉘는 비트이며, 1과 0은 전기적으로 On, Off 상태입니다.
    - 따라서 물리 계층에서 쓰이는 대표적인 장비는 통신 케이블, 리피터, 허브 등의 전기 신호 전송 매체이며, 신호를 보내는 방법은 이러한 전송 매체에 의해 결정됩니다.

- 물리 계층에서는 단지 **데이터를 전달만 할 뿐**, 전송하거나 받으려는 데이터가 무엇인지, 어떤 오류가 있는지 등에는 전혀 신경 쓰지 않습니다.
    - 물리 계층은 단순히 전기적 신호나 빛 신호를 전송하는 역할만 담당합니다.
    - 데이터 링크 개체 간의 비트 전송을 위한 물리적 연결을 설정하고 유지하고 해제하기 위한 수단만을 제공합니다.


### 물리 계층에서 수행되는 중요한 일들

1. 물리적인 정보 전달 매개체에 대한 연결의 성립 및 종료.

2. 여러 사용자들 간의 통신 자원을 효율적으로 분배하는 데 관여.
    - 예를 들어, 경쟁 상태의 해소나 흐름 제어(congestion control) 등.

3. 통신 채널을 통해 전송되는 사용자 장치의 디지털 데이터를 이에 상응하는 아날로그 신호들로 변환, 변조.
    - 이 신호들은 구리선이나 광섬유 선을 또는 무선 통신을 통해 전달되는 신호들입니다.
    - 예를 들어, SCSI가 여기에 속합니다.




---




## Layer 2. 데이터 링크 계층 (Data Link Layer)

| 특징 | 설명 |
| --- | --- |
| 전송 단위 | frame (Preamble+DA+SA+DATA+fcs+....) |
| 대표 장치 | L2 Switch, 모뎀, 기지국, AP |
| 프로토콜 | CSMA/CD, CSMA/CA, Slott Aloha, DAC/ADC, Multiplexer, Demultiplexer, MAC주소 관리 등 |

- 데이터 링크 계층은 물리 계층 위에서 동작하며, **같은 네트워크 내 장치들 간의 데이터 전송을 담당**하는 계층입니다.
    - 물리적인 신호 전달을 넘어, **안정적이고 효율적인 데이터 전송을 가능하게 하는 핵심적인 역할**을 수행합니다.
        - **물리 계층을 통해 송수신되는 정보의 오류와 흐름을 관리**하여 안전한 정보의 전달을 수행할 수 있도록 도와줍니다.
        - 패리티 비트 검사, 해밍 부호 검사 등의 방법으로 통신에서의 오류를 검출하고, 오류가 있다면 데이터를 재전송합니다.
    - **네트워크 통신의 기본 토대**를 제공하며, 상위 계층들이 원활하게 동작할 수 있도록 지원합니다. 

- 데이터 링크 계층은 **MAC 주소(MAC address)를 가지고 통신**하며, 주소 체계는 계층이 없는 단일 구조입니다.
    - 주소 값은 물리적으로 할당 받는데, 이는 네트워크 카드가 만들어질 때부터 맥 주소가 정해져 있다는 뜻입니다.
    - 데이터 링크 계층의 대표적인 장비인 브리지와 스위치 등에서 MAC 주소를 활용합니다.

- 데이터 링크 계층의 대표적인 장비로는 스위치, 브리지 등이 있고, 프로토콜로는 이더넷, Wi-Fi, PPP 등이 있습니다.
    - 이 외에도 HDLC나 ADCCP 같은 포인트 투 포인트(point-to-point) 프로토콜이나 패킷 스위칭 네트워크나 LLC, ALOHA 같은 근거리 네트워크용 프로토콜이 있다.
    - 네트워크 브릿지나 스위치 등이 이 계층에서 동작하며, 직접 이어진 곳에만 연결할 수 있습니다.

- 데이터 링크 계층은 **네트워크 연결의 핵심**이며, **상위 계층들이 효과적으로 기능할 수 있는 기반**을 제공합니다. 
    - 데이터 링크 계층이 네트워크 연결의 핵심이라고 불리는 이유는 **물리적인 연결 위에서 실질적인 데이터 전송을 가능하게 하는 다리 역할**을 하기 때문입니다.
        - 데이터 링크 계층이 없다면, 상위 계층들은 물리적인 신호를 해석하고 처리할 수 없어 네트워크 통신 자체가 불가능해집니다.
    - 데이터 링크 계층은 물리 계층과 네트워크 계층 사이의 핵심 연결 고리 역할을 하는 **네트워크 연결의 기본**입니다.
    - 오류 검출 및 수정, 흐름 제어 등을 통해 데이터 손실을 최소화하고 안정적인 통신을 가능하게 하여 **데이터 전송의 신뢰성**을 책임집니다.


### 데이터 링크 계층의 주요 기능

1. **물리 주소 지정 (MAC 주소)** : 물리 계층으로부터 받은 신호들이 네트워크 상의 장치에 올바르게 안착할 수 있게 합니다.
    - 각 네트워크 인터페이스 카드(NIC)에 고유한 MAC 주소를 할당하여 데이터의 출발지와 목적지를 식별합니다.
    - 이를 통해 네트워크 내 여러 장치들이 서로를 구분하고 통신할 수 있게 합니다.

2. **프레임 구성 및 전송** : 네트워크 계층에서 받은 데이터를 프레임이라는 단위로 나누고, 헤더와 트레일러를 추가하여 전송 준비를 합니다.
    - 헤더에는 MAC 주소, 오류 검출 코드 등 제어 정보가 포함되고, 트레일러에는 오류 검출을 위한 정보가 담깁니다.

3. **오류 검출 및 수정** : 전송 과정에서 발생할 수 있는 오류를 감지하고, 필요한 경우 재전송을 요청하여 데이터의 신뢰성을 보장합니다.
    - 대표적인 오류 검출 방식으로는 CRC(Cyclic Redundancy Check)가 있습니다.

4. **흐름 제어** : 송신 측과 수신 측의 데이터 처리 속도 차이를 조절하여 데이터 손실을 방지합니다.
    - 수신 측의 버퍼 오버플로우를 막고, 원활한 데이터 흐름을 유지합니다.

5. **매체 접근 제어 (MAC)** : 여러 장치가 동시에 데이터를 전송하려 할 때 충돌을 방지하고, 효율적인 통신을 가능하게 합니다.
    - CSMA/CD, 토큰 링 등 다양한 매체 접근 제어 방식이 사용됩니다.


### 다른 계층과의 차이를 통해 데이터 링크 계층 이해하기

#### 물리 계층과의 차이 : 신호 vs 데이터

- **물리 계층** : 단순히 전기적 신호나 빛 신호를 전송하는 역할만 담당합니다.
- **데이터 링크 계층** : 물리적인 신호를 의미 있는 데이터 단위(프레임)로 구성하고, 주소 정보, 오류 검출 코드 등을 추가하여 안정적인 데이터 전송을 가능하게 합니다.

#### 네트워크 계층과의 차이 : 로컬 vs 글로벌

- 네트워크 계층이 '큰 그림'을 그린다면, 데이터 링크 계층은 그 그림을 실제로 구현하는 '붓'과 같습니다.

- **네트워크 계층** : 다른 네트워크로 데이터를 전달하는 라우팅 기능을 담당하며, 논리적인 주소(IP 주소)를 사용합니다. 
- **데이터 링크 계층** : 같은 네트워크 내 장치들 간의 통신을 담당하며, 물리적인 주소(MAC 주소)를 사용합니다.

#### 전송 계층과의 차이 : 연결 vs 신뢰성

- **전송 계층** : 데이터의 순서 보장, 흐름 제어, 오류 복구 등을 통해 종단 간(end-to-end) 신뢰성 있는 데이터 전송을 보장합니다.
- **데이터 링크 계층** : 물리적인 링크 상에서의 오류 검출 및 재전송을 통해 데이터의 신뢰성을 보장하지만, 종단 간 신뢰성까지는 책임지지 않습니다.


### 데이터 링크 계층의 MAC 주소 : 네트워크 장치를 식별하는 고유한 주소

- MAC 주소는 **Media Access Control Address**의 약자로, 네트워크에 연결된 각 장치에 할당되는 고유한 식별자입니다.
    - 네트워크 상에서 각 장치를 구분하기 위한 '주민등록번호'와 같은 역할을 합니다. 

- MAC 주소는 전세계에서 고유한 물리적 주소입니다.
    - **고유성** : 각 장치는 제조 과정에서 부여받은 MAC 주소를 가지며, 이는 전 세계에서 유일합니다. 
    - **물리적 주소** : MAC 주소는 네트워크 인터페이스 카드(NIC)와 같은 하드웨어에 내장되어 변경할 수 없습니다.
    - **형식** : 일반적으로 6쌍의 16진수로 표현되며, 예를 들면 `00:1A:2B:3C:4D:5E`와 같은 형태입니다.

- MAC 주소는 로컬 네트워크 통신, 네트워크 관리 및 보안에 사용됩니다.
    - **로컬 네트워크 통신** : 같은 네트워크에 연결된 장치들은 MAC 주소를 사용하여 서로 데이터를 주고받습니다.
    - **네트워크 관리** : 네트워크 관리자는 MAC 주소를 이용하여 특정 장치를 식별하고 관리할 수 있습니다.
    - **보안** : MAC 주소 필터링을 통해 특정 장치만 네트워크에 접근하도록 제한할 수 있습니다.

- MAC 주소는 IP 주소와 완전히 다른 특성과 용도를 가집니다.
    - **MAC 주소** : 하드웨어에 내장된 물리적 주소, 로컬 네트워크 내에서 사용.
    - **IP 주소** : 네트워크 상에서 할당되는 논리적 주소, 인터넷 통신에 사용.




---




## Layer 3. 네트워크 계층 (Network Layer)

| 특징 | 설명 |
| --- | --- |
| 전송 단위 | Packet |
| 대표 장치 | Router, L3 Switch |
| 프로토콜 | IP, ARP/NDP, RIP, RIP v2, OSPF, IGRP, EIGRP, BGP 등등의 Routing Protocol, AS번호, NAT 등 |

- 네트워크 계층은 인터넷 프로토콜 스위트(TCP/IP)의 핵심 계층 중 하나로, **서로 다른 네트워크에 있는 장치들 간의 데이터 전송을 가능하게 하는 역할**을 합니다.
    - 경로를 선택하고 주소를 정한 뒤, 경로에 따라 패킷을 전달합니다.
        - 네트워크 계층의 핵심 프로토콜은 **IP(Internet Protocol)**입니다.
            - IP는 데이터를 패킷 형태로 캡슐화하고, 각 패킷에 출발지 및 목적지 IP 주소를 포함시켜 라우터들이 패킷을 목적지까지 전달할 수 있도록 합니다.
    - 현재 흔하게 사용되고 있는 **인터넷**이 기본적으로 네트워크 계층에 속하는 망이며, 네트워크 계층이 **인터넷**이라는 거대한 네트워크를 구축하고 운영하는 데 핵심적인 역할을 합니다. 
        - 인터넷은 수많은 컴퓨터와 네트워크들이 서로 연결되어 정보를 주고받는 공간이며, 네트워크 계층은 이러한 연결을 가능하게 하는 중요한 기술입니다.
        - L3(네트워크 계층), L4(전송 계층), L5(세션 계층)는 보통 국제 인터넷 표준화 기구(IETF)에서 규격을 관리합니다.

- 네트워크 계층은 각각의 컴퓨터와 네트워크에 **IP 주소**라는 고유한 식별자를 부여합니다.
    - 이를 통해 인터넷에 연결된 모든 장치들은 서로를 구별하고 데이터를 정확하게 주고받을 수 있습니다.
    - IP 주소는 우편 주소와 유사하게 작동하며, 데이터가 목적지까지 도달하기 위한 경로를 찾는 데 사용됩니다.

- 네트워크 계층은 **라우팅**이라는 과정을 통해 데이터가 출발지에서 목적지까지 최적의 경로를 찾아 전달될 수 있도록 합니다.
    - 라우터는 네트워크 계층의 핵심 장비로, IP 주소를 기반으로 데이터 패킷을 다음 목적지로 전달하는 역할을 합니다.
    - 인터넷은 수많은 네트워크들이 복잡하게 연결되어 있기 때문에, 라우팅은 데이터가 효율적으로 전달되도록 하는 데 필수적입니다.
    - 최근에는 2계층 장비인 스위치에 라우팅 기능을 장착한 Layer 3 스위치도 있습니다.

- 네트워크 계층은 상위 계층(전송 계층)에서 받은 데이터를 **패킷**이라는 작은 단위로 분할합니다.
    - 각 패킷에는 출발지 및 목적지 IP 주소, 전송 순서 등의 정보가 포함되어 있어, 패킷들이 목적지에 도착한 후 원래의 데이터로 재조립될 수 있습니다.
    - 패킷 단위로 데이터를 전송하면 네트워크 자원을 효율적으로 사용하고, 전송 중 오류가 발생했을 때 손실된 부분만 재전송하여 복구할 수 있습니다.


### 네트워크 계층과 IP 주소 : 인터넷 연결의 핵심 요소

- 인터넷은 전 세계 수많은 컴퓨터와 네트워크들이 서로 연결되어 정보를 주고받는 거대한 통신망입니다.
- 이러한 연결을 가능하게 하는 핵심 기술 중 하나가 바로 **네트워크 계층**이며, **IP 주소**는 네트워크 계층에서 각 장치를 식별하고 데이터를 전달하는 데 사용되는 중요한 요소입니다.

- IP 주소는 **인터넷에 연결된 모든 장치에 할당되는 고유한 식별자**입니다.
    - 사람들이 서로 다른 집 주소를 가지고 있는 것처럼, 각 컴퓨터와 네트워크 장비는 고유한 IP 주소를 통해 구분됩니다.

- IP 주소는 주로 장치 식별, 데이터 전달, 네트워크 관리의 역할을 합니다.
    - **장치 식별** : 인터넷에 연결된 수많은 장치들을 구별하여 통신을 가능하게 합니다.
        - 각 장치에 고유한 논리적인 주소 체계(IP 주소)를 부여하여 인터넷 상에서 식별 가능하도록 합니다.
    - **데이터 전달** : 데이터가 정확한 목적지에 도달할 수 있도록 경로 정보를 제공합니다.
    - **네트워크 관리** : 네트워크 관리자는 IP 주소를 통해 네트워크 트래픽을 모니터링하고 제어할 수 있습니다.

- IP 주소는 크게 IPv4와 IPv6 두 가지 버전으로 나뉩니다.
    - **IPv4** : 32비트 주소 체계로, 약 43억 개의 주소를 생성할 수 있습니다.
        - 인터넷 초기에 설계되어 현재까지 널리 사용되고 있지만, 주소 고갈 문제가 발생하고 있습니다.
    - **IPv6** : 128비트 주소 체계로, 거의 무한대에 가까운 주소를 생성할 수 있습니다.
        - IPv4의 주소 고갈 문제를 해결하고, 향후 인터넷 확장에 대비하기 위해 개발되었습니다.


### IP 주소의 계층적 구조 : 인터넷 주소 체계의 효율성

- IP 주소의 계층적 구조(Hierarchical Addressing)는 **인터넷 주소 체계를 효율적으로 관리**하고 **라우팅을 용이**하게 하기 위한 중요한 설계 원칙입니다.

- IP 주소는 우편 주소 체계와 유사한 방식으로 작동합니다. 
    - **우편 주소**에서 국가, 도시, 구 등 상위 정보는 해당 지역을 큰 범위에서 좁은 범위로 점차 세분화하여 특정 위치를 나타냅니다.
        - `국가` - `도시` - `구` - `동` - `번지` - `상세 주소`.
    - **IP 주소**도 마찬가지로, 네트워크 ID는 인터넷 상의 큰 네트워크를, 서브넷 ID는 해당 네트워크 내의 작은 네트워크를, 호스트 ID는 특정 장치를 나타냅니다. 
        - `네트워크 ID` - `서브넷 ID` - `호스트 ID`.

#### 계층적 구조의 장점

1. **효율적인 주소 관리**가 가능합니다.
   - 각 네트워크는 자신의 네트워크 ID를 기반으로 하위 네트워크에 서브넷 ID를 할당할 수 있습니다. 
   - 이를 통해 중앙 집중식 관리 없이도 각 네트워크가 자율적으로 주소를 할당하고 관리할 수 있습니다.

2. **라우팅 효율성을 증대**시킵니다.
   - 라우터는 IP 주소의 네트워크 ID 부분을 기반으로 데이터를 전달할 네트워크를 결정합니다. 
   - 계층적 구조 덕분에 라우터는 모든 개별 호스트의 주소를 알 필요 없이, 네트워크 ID를 기준으로 데이터를 해당 네트워크로 전달하면 됩니다. 
   - 이는 라우팅 테이블의 크기를 줄이고 라우팅 속도를 향상시킵니다.

3. **확장성**이 높습니다.
   - 새로운 네트워크가 추가될 때, 상위 네트워크로부터 새로운 네트워크 ID를 할당받고, 하위 네트워크에 서브넷 ID를 할당하는 방식으로 쉽게 확장할 수 있습니다.
   - 이러한 유연성은 인터넷의 급속한 성장을 가능하게 했습니다.




---




## 4 계층 - 전송 계층 (Transport Layer)

| 특징 | 설명 |
| --- | --- |
| 전송 단위 | Segment, Datagram |
| 대표 장치 | L4 Switch |
| 프로토콜 | TCP, UDP |

- 전송 계층은 **양 끝단(End to end)의 사용자(응용 프로그램 또는 프로세스) 간에 신뢰성 있는 데이터를 주고 받을 수 있도록** 하여, 상위 계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않아도 되게 합니다.
    - **종단간(end-to-end) 통신을 다루는 최하위 계층**이며, 오류 검출 및 복구와 흐름 제어, 중복 검사 등의 기능을 사용하여 신뢰성 있고 효율적인 데이터 전송을 보장합니다.
        - 데이터를 전송하고, 전송 속도를 조절하며, 오류가 발생한 부분은 재전송하여 다시 맞춥니다.
    - 패킷들의 전송이 유효한지 확인하고, 전송 실패한 패킷들을 다시 전송하여 연결의 유효성을 보장합니다.

- 전송 계층은 주로 **TCP, UDP 프로토콜을 사용**하며, 헤더에 송신지와 수신지의 **포트 번호를 포함**하여 전달합니다.
    - TCP의 데이터 전송 단위는 Segment, UDP의 데이터 전송 단위는 Datagram이라고 부릅니다.

- **포트 번호**는 전송 계층이 **데이터를 정확한 애플리케이션에게 전달하기 위해 사용하는 핵심적인 식별자**입니다.
    - 포트 번호 : 하나의 컴퓨터에서 동시에 실행되고 있는 **프로세스들이 서로 겹치지 않게 가져야 하는 정수 값**.
    - 전송 계층은 IP 주소와 포트 번호를 조합하여 데이터를 정확한 목적지 애플리케이션에게 전달합니다.
        - **IP 주소**는 **네트워크 상의 특정 컴퓨터**를 찾아가는 데 사용됩니다.
        - **포트 번호**는 해당 컴퓨터 내에서 실행 중인 **여러 애플리케이션 중 특정 애플리케이션을 찾아가는 데 사용**됩니다.
    - 전송 계층은 포트 번호를 통해 여러 애플리케이션의 데이터를 구분하고 관리합니다.
        - 하나의 컴퓨터에서 여러 애플리케이션이 동시에 네트워크 통신을 할 수 있습니다.
        - 각 애플리케이션은 **고유한 포트 번호를 할당받아 서로 간섭 없이 통신**합니다.
    - 자주 사용되는 서비스들은 **표준화된 포트 번호**를 사용하며, 이를 통해 클라이언트는 특정 서비스에 접속할 때 해당 포트 번호를 사용하여 쉽게 연결할 수 있습니다.
        - 예를 들어, 웹 서버는 `80`, FTP 서버는 `21`, SSH 서버는 `22`.

- 네트워크 계층은 호스트 간의 논리적 통신을 돕지만, **전송 계층은 응용 프로세스 간의 논리적인 통신**을 돕습니다.
    - 실제 데이터 통신에서는 두 계층이 협력하여 작동합니다.
        - 네트워크 계층이 데이터를 목적지 호스트까지 전달하면, 전송 **계층이 해당 호스트 내에서 정확한 응용 프로세스에게 데이터를 전달**하는 역할을 수행합니다. 
    - **네트워크 계층** : **호스트 간 연결**을 맡아, 서로 다른 네트워크에 있는 **호스트**(컴퓨터, 서버 등) 간에 데이터를 전달합니다.
    - **전송 계층** : **응용 프로세스 간 연결**을 맡아, 같은 호스트 내 또는 다른 호스트에 있는 **응용 프로세스**(실행 중인 프로그램) 간에 데이터를 전달합니다.


### 전송 계층의 시퀀스 넘버 기반 오류 제어 방식

- 전송 계층, 특히 TCP와 같은 연결 지향 프로토콜은 데이터의 신뢰성 있는 전송을 보장하기 위해 **시퀀스 넘버 기반의 오류 제어 방식**을 사용합니다. 
    - 이 방식은 데이터의 순서를 보장하고, 손실되거나 손상된 데이터를 감지하여 재전송을 요청함으로써 데이터의 정확한 전달을 가능하게 합니다. 
    - 이를 통해 응용 프로그램은 데이터 전송의 세부적인 과정을 신경 쓰지 않고, 안정적으로 데이터를 주고받을 수 있습니다. 

#### 시퀀스 넘버 기반 오류 제어 방식의 핵심 원리

- **시퀀스 넘버 부여** : 송신 측은 전송하는 각 데이터 세그먼트에 고유한 시퀀스 넘버를 부여합니다.
    - 이 시퀀스 넘버는 데이터의 순서를 나타내는 역할을 합니다.
- **확인 응답 (ACK, Acknowledgement)** : 수신 측은 데이터 세그먼트를 받으면, 다음에 받고 싶은 세그먼트의 시퀀스 넘버를 담은 확인 응답(ACK)을 송신 측에 보냅니다.
    - 이를 통해 송신 측은 데이터가 정상적으로 수신되었는지 확인할 수 있습니다.
- **재전송** : 송신 측은 일정 시간 내에 확인 응답을 받지 못하면, 해당 데이터 세그먼트가 손실되었거나 손상되었다고 판단하고 재전송을 수행합니다.
- **순서 재조립** : 수신 측은 시퀀스 넘버를 기반으로 데이터 세그먼트를 순서대로 재조립하여 원래의 데이터를 복원합니다.

#### 시퀀스 넘버 기반 오류 제어 방식의 장점

- **신뢰성** : 데이터 손실이나 손상을 감지하고 재전송을 통해 데이터의 정확한 전달을 보장합니다.
- **순서 보장** : 시퀀스 넘버를 통해 데이터의 순서를 유지하여, 순서에 민감한 응용 프로그램(동영상 스트리밍 등)에서도 문제없이 사용할 수 있습니다.

#### 시퀀스 넘버 기반 오류 제어 방식 활용 예시 (TCP)

1. 송신 측은 데이터를 세그먼트로 분할하고 각 세그먼트에 시퀀스 넘버를 부여하여 전송합니다.
2. 수신 측은 세그먼트를 받고, 다음에 받고 싶은 세그먼트의 시퀀스 넘버를 담은 ACK를 보냅니다.
3. 송신 측은 ACK를 통해 데이터가 정상적으로 수신되었는지 확인합니다.
4. 만약 송신 측이 일정 시간 내에 ACK를 받지 못하면, 해당 세그먼트를 재전송합니다.
5. 수신 측은 시퀀스 넘버를 기반으로 세그먼트를 순서대로 재조립하여 원래의 데이터를 복원합니다.


### 수신 측 전송 계층에서 일어나는 일 : 데이터를 합산 및 세션 계층으로 전달

- 전송 계층은 데이터를 작은 단위(세그먼트 또는 데이터그램)로 분할하여 전송하고, 수신 측에서는 이러한 분할된 데이터를 다시 원래의 데이터로 합치는 역할을 수행합니다.
    - 전송 계층에서 이 과정을 도맡아 하기 때문에, 상위 계층들은 데이터 전송의 세부적인 과정을 신경 쓰지 않고 데이터를 주고받을 수 있습니다. 

- **데이터 합산 과정은 수신 측의 전송 계층에서 수행**되며, 송신 측에서는 데이터를 분할하여 전송하는 역할만 담당합니다.
    - 데이터를 받는 쪽의 전송 계층에서만 데이터를 합산하여 세션 계층으로 전달하게 됩니다.

#### 데이터를 합산하여 세션 계층으로 전달하는 과정

1. **분할된 데이터 수신** : 수신 측의 전송 계층은 네트워크 계층으로부터 분할된 데이터(세그먼트 또는 데이터그램)를 받습니다.
    - 각 세그먼트/데이터그램에는 순서 정보와 함께 데이터가 포함되어 있습니다.

2. **데이터 재조립** : 전송 계층은 수신한 세그먼트/데이터그램의 순서 정보를 확인하고, 순서에 맞게 데이터를 버퍼에 저장합니다.
    - 만약 순서에 맞지 않는 세그먼트/데이터그램이 도착하거나, 손실된 세그먼트/데이터그램이 있다면, 재전송을 요청하거나 버퍼에 빈 공간을 남겨둡니다.

3. **데이터 합산** : 모든 세그먼트/데이터그램이 도착하고 순서대로 정렬되면, 전송 계층은 버퍼에 저장된 데이터를 합쳐서 원래의 데이터를 복원합니다.

4. **세션 계층으로 전달** : 합쳐진 데이터는 세션 계층으로 전달됩니다.
    - 세션 계층은 연결 설정, 유지, 종료 등을 담당하며, 전송 계층에서 받은 데이터를 응용 계층으로 전달하기 전에 필요한 처리를 수행합니다.


### TCP와 UDP : 연결 방식과 신뢰성의 차이

- TCP(Transmission Control Protocol)와 UDP(User Datagram Protocol)는 모두 전송 계층 프로토콜이지만, 데이터 전송 방식과 특징에서 중요한 차이를 보입니다.
    - **TCP**와 같은 연결 지향 프로토콜은 데이터의 순서와 신뢰성을 보장하기 위해 세그먼트 번호, 확인 응답(ACK) 등을 사용하여 데이터 재조립 과정을 수행합니다.
    - **UDP**와 같은 비연결형 프로토콜은 데이터그램 단위로 데이터를 전송하며, 데이터의 순서나 신뢰성을 보장하지 않습니다.
        - 따라서 UDP는 데이터 재조립 과정이 필요하지 않을 수 있습니다.

- TCP와 UDP는 각각의 장단점을 가지고 있으며, 사용 목적에 따라 적합한 프로토콜을 선택해야 합니다.
    - **신뢰성 있는 데이터 전송이 중요한 경우 TCP**를, **빠른 전송 속도가 중요하고 약간의 데이터 손실은 허용되는 경우 UDP**를 사용하는 것이 좋습니다. 

| 특징 | TCP | UDP |
| --- | --- | --- |
| **연결 방식** | 연결형 | 비연결형 |
| **신뢰성** | 높음 (데이터 순서 보장, 오류 검출 및 재전송) | 낮음 (데이터 순서 보장 X, 오류 검출 및 재전송 X) |
| **속도** | 상대적으로 느림 (연결 설정 및 유지, 오류 처리 등으로 인해) | 상대적으로 빠름 (연결 설정 없이 데이터 전송) |
| **용도** | 파일 전송, 웹 브라우징, 이메일 등 신뢰성 있는 데이터 전송이 필요한 경우 | 실시간 스트리밍, 온라인 게임, VoIP 등 빠른 전송이 중요하고 약간의 데이터 손실은 허용되는 경우 |
| **데이터 단위** | 세그먼트 | 데이터그램 |
| **흐름 제어** | 있음 (송신자와 수신자 간 데이터 전송 속도 조절) | 없음 |
| **혼잡 제어** | 있음 (네트워크 혼잡 발생 시 데이터 전송 속도 조절) | 없음 |

#### TCP (Transmission Control Protocol)

- **연결형 프로토콜** : 데이터 전송 전에 3-way handshake 과정을 통해 연결을 설정하고, 전송 완료 후 연결을 해제합니다.
- **높은 신뢰성** : 데이터 순서를 보장하고, 오류 검출 및 재전송 기능을 통해 데이터 손실을 최소화합니다.
- **흐름 제어 및 혼잡 제어** : 송신자와 수신자 간의 데이터 전송 속도를 조절하고, 네트워크 혼잡을 방지합니다.

#### UDP (User Datagram Protocol)

- **비연결형 프로토콜** : 연결 설정 없이 데이터를 전송합니다.
- **낮은 신뢰성** : 데이터 순서 보장이나 오류 검출 및 재전송 기능이 없어 데이터 손실 가능성이 있습니다.
- **빠른 속도** : 연결 설정 및 오류 처리 과정이 없어 TCP보다 빠른 전송 속도를 제공합니다.




---




## 5 계층 - 세션 계층 (Session Layer)

| 특징 | 설명 |
| --- | --- |
| 대표 장치 | L4 Switch |
| 프로토콜 | RPC, NetBIOS |

- **세션**이란 일정 시간 동안 같은 사용자로부터 들어오는 일련의 요구를 하나의 상태로 보고 그 상태를 일정하게 유지하는 기술입니다.
    - 여기서 일정 시간이란, 방문자가 웹 브라우저를 통해 웹 서버에 접속한 시점으로부터 웹 브라우저는 종료함으로써 연결을 끝내기까지의 기간을 의미합니다.
    - 즉, 방문자가 웹 서버에 접속해 있는 상태를 하나의 단위로 보고 세션이라고 합니다.

- 세션 계층은 **통신하는 두 장치 간의 연결을 설정, 관리, 종료하는 역할**을 담당합니다.
    - 쉽게 말해, 통신 세션을 열고 닫는 과정을 책임지는 층이라고 볼 수 있습니다.
    - 양 끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공하며, 네트워크상 양쪽 연결을 관리하고 연결을 지속시켜 주는 계층입니다.

- 세션 계층은 **데이터 동기화** 및 **체크포인팅**을 통해 **안정적인 연결을 유지**하고, 장시간 통신이나 다중 연결 환경에서도 효율적인 데이터 전송을 보장합니다.
    - 덕분에 대용량 파일 전송이나 실시간 스트리밍과 같은 서비스를 안정적으로 이용할 수 있습니다. 

- 세션 계층에서 사용되는 주요 프로토콜로는 RPC, NetBIOS 등이 있습니다.
    - **RPC (Remote Procedure Call)** : 원격 컴퓨터에서 프로그램을 실행할 수 있도록 하는 프로토콜입니다.
    - **NetBIOS** : 윈도우 환경에서 파일 및 프린터 공유 등을 위해 사용되는 세션 계층 프로토콜입니다.


### 새션 계층의 주요 기능

- **세션 설정** : 통신하고자 하는 두 응용 프로그램 간에 논리적인 연결을 설정합니다.
- **세션 유지 및 관리** : 연결된 세션을 통해 데이터 교환이 원활하게 이루어질 수 있도록 관리하고, 필요에 따라 세션을 재설정하거나 복구합니다.
- **세션 종료** : 통신이 완료되면 세션을 안전하게 종료합니다.
- **동기화 및 체크포인팅** : 데이터 전송 중 오류 발생 시, 오류가 발생한 지점부터 데이터 전송을 재개할 수 있도록 체크포인트를 설정하고 동기화합니다.
- **멀티플렉싱** : 여러 응용 프로그램이 동시에 통신할 수 있도록 하나의 물리적 연결을 여러 개의 논리적 연결로 분할합니다.


### 세션 계층의 TCP/IP 세션 관리 기능

- 세션 계층은 TCP/IP 세션을 설정하고 관리하며, 통신 중 발생하는 문제를 해결하는 데 중요한 역할을 합니다.
    - 특히, TCP/IP 기반의 인터넷 통신 환경에서 필수적입니다.

#### TCP/IP 세션 설정

- **세션 연결 설정** : 클라이언트와 서버 간의 통신을 시작하기 위해 TCP 3-way handshake 과정을 통해 연결을 설정합니다.
- **세션 식별자 할당** : 각 세션에 고유한 식별자를 할당하여 여러 세션을 동시에 관리할 수 있도록 합니다.
- **세션 파라미터 협상** : 통신 양쪽 시스템 간에 데이터 전송 방식, 오류 처리 방법 등 세션 관련 파라미터를 협상하여 최적의 통신 환경을 구성합니다.

#### TCP/IP 세션 유지

- **데이터 흐름 제어** : 데이터 전송 속도를 조절하여 수신 측 시스템이 데이터를 처리할 수 있도록 합니다.
    - 혼잡 제어 기능을 통해 네트워크 혼잡을 방지합니다.
- **오류 감지 및 복구** : 데이터 전송 중 발생하는 오류를 감지하고, 손실된 데이터를 재전송하여 안정적인 통신을 보장합니다.
- **세션 상태 관리** : 세션의 연결 상태, 데이터 전송 상태 등을 지속적으로 관리하여 세션이 정상적으로 유지되도록 합니다.

#### TCP/IP 세션 종료 및 복구

- **정상적인 세션 종료** : 통신이 완료되면 TCP 4-way handshake 과정을 통해 세션을 정상적으로 종료합니다.
- **비정상적인 세션 종료** : 네트워크 오류, 시스템 장애 등으로 세션이 비정상적으로 종료될 경우, 세션 계층은 이를 감지하고 필요한 조치를 취합니다.
- **세션 복구** : 세션이 비정상적으로 종료된 경우, 가능하다면 세션을 복구하여 데이터 전송을 재개합니다.
    - 복구가 불가능한 경우, 상위 계층에 오류를 전달하여 적절한 처리를 수행하도록 합니다.


### 세션 계층에서의 멀티플렉싱

- 세션 계층은 여러 응용 프로그램 간의 통신 세션을 관리하고, 멀티플렉싱을 통해 각 세션이 독립적으로 데이터를 주고받을 수 있도록 보장합니다.

- 세션 계층에서 **멀티플렉싱**은 **하나의 물리적인 연결을 여러 개의 논리적인 세션으로 분할**하여, 여러 응용 프로그램이 동시에 통신할 수 있도록 하는 기능입니다. 
    - 컴퓨터가 여러 개의 프로그램을 동시에 실행하는 것처럼, 세션 계층은 하나의 네트워크 연결을 통해 여러 개의 통신 세션을 동시에 관리하고, 각 세션이 서로 간섭 없이 데이터를 주고받을 수 있도록 합니다.

- 멀티플렉싱은 OSI 모델의 여러 계층에서 사용되지만, 특히 세션 계층에서 중요한 역할을 합니다.
    - **효율적인 자원 활용** : 하나의 물리적 연결을 여러 세션이 공유하므로, 각 세션마다 별도의 연결을 설정할 필요가 없어 네트워크 자원을 효율적으로 사용할 수 있습니다.
        - 여러 세션이 하나의 연결을 공유하므로, 연결 설정 및 유지에 필요한 자원을 절약할 수 있습니다.
    - **동시 통신 지원** : 여러 응용 프로그램이 동시에 통신할 수 있도록 하여, 사용자 편의성을 높이고 시스템 성능을 향상시킵니다.
        - 예를 들어, 웹 브라우저에서 여러 개의 웹 페이지를 동시에 열거나, 파일 전송 프로그램으로 여러 개의 파일을 동시에 다운로드하는 것이 가능해집니다.
        - 여러 응용 프로그램이 동시에 통신할 수 있으므로, 시스템 처리량을 높이고 응답 시간을 단축할 수 있습니다.
    - **혼선 방지** : 각 세션에 고유한 식별자를 부여하고, 데이터를 세션별로 분리하여 전송함으로써 데이터 혼선을 방지합니다. 
    - **사용자 편의성 증대** : 여러 작업을 동시에 수행할 수 있도록 하여 사용자 편의성을 높입니다.

- 세션 계층에서는 멀티플렉싱을 구현하기 위해 **각 세션에 고유한 세션 ID를 부여**하고, **데이터를 전송할 때 세션 ID를 함께 전송**합니다.
    - **수신 측에서는 세션 ID를 기반으로 데이터를 해당 세션에 전달**하여 혼선 없이 데이터를 처리할 수 있습니다.


### 세션 계층의 동기화 기능

- 세션 계층의 동기화 기능은 데이터 전송 중 발생할 수 있는 오류나 연결 끊김 등의 **문제 상황에서 데이터 손실을 최소화**하고, **통신을 효율적으로 재개**할 수 있도록 돕는 중요한 기능입니다. 
    - 통신하는 사용자들을 동기화하고 오류 복구 명령들을 일괄적으로 다룸으로써, 안정적인 데이터 전송 통신 재개를 가능하게 합니다.
    - 특히, 대용량 데이터 전송이나 실시간 통신과 같이 안정성과 효율성이 중요한 환경에서 필수적입니다.

- **동기란 통신 양단에서 서로 동의하는 논리적인 공통 처리 지점**으로써, 동기점(체크포인트)을 설정하기 위해 사용됩니다.
    - 동기점이 설정된다는 의미는 그 이전까지의 통신은 서로 완벽하게 처리했다는 것을 의미합니다.

- 동기화의 핵심 개념은 **체크포인트**이며, 세션 계층은 데이터 전송 과정에서 **특정 지점들을 체크포인트로 설정**합니다.
    - 이 체크포인트들은 **데이터 전송의 진행 상황을 기록**하는 일종의 **중간 저장 지점** 역할을 합니다.
    - 만약 오류나 연결 끊김 등으로 인해 데이터 전송이 중단될 경우, 세션 계층은 마지막으로 확인된 체크포인트부터 데이터 전송을 재개합니다.
        - 이를 통해 이미 전송된 데이터를 다시 보낼 필요 없이, 중단된 지점부터 이어서 전송할 수 있으므로 불필요한 데이터 낭비를 방지할 수 있습니다.

#### 동기화 기능의 이점

- **데이터 무결성 보장** : 세션 계층의 동기화 기능은 네트워크 상태가 불안정한 상황에서 데이터 손실을 최소화하고, 데이터의 무결성을 보장합니다.
    - 대용량 파일 전송이나 실시간 스트리밍과 같이 장시간 연결이 필요한 경우, 네트워크 불안정으로 인해 데이터 전송이 중단될 가능성이 높습니다.

- **효율적인 통신 재개** : 오류 발생 시 처음부터 데이터 전송을 다시 시작하는 것이 아니라, 마지막 체크포인트부터 재개하므로 통신 효율성을 높일 수 있습니다.
    - 특히 대용량 데이터 전송 시 시간과 자원을 절약하는 데 큰 도움이 됩니다.

- **사용자 경험 향상** : 데이터 전송 중단으로 인한 불편함을 최소화하고, 끊김 없는 서비스를 제공하여 사용자 경험을 향상시킵니다.

#### 동기화 기능의 사용 예시

- **대용량 파일 다운로드** : 1GB 크기의 파일을 다운로드하는 중 인터넷 연결이 잠시 끊겼을 때, 끊긴 지점부터 다시 다운로드를 이어갈 수 있습니다.
    - 세션 계층의 동기화 기능이 없다면 처음부터 다시 다운로드해야 하지만, 동기화 기능이 있다면 끊긴 시점 이전까지 다운로드된 데이터는 유지되고, 끊긴 지점부터 이어서 다운로드를 재개할 수 있습니다.

- **화상 회의** : 화상 회의 중 네트워크 문제로 잠시 연결이 끊겼을 때, 동기화 기능을 통해 끊긴 시점 이전까지의 대화 내용과 화면 공유 상태를 유지하고, 끊긴 지점부터 회의를 이어갈 수 있습니다.


### 세션 계층의 세 가지 통신 방식

- 세션 계층은 데이터 통신 방식에 따라 **동시 송수신 방식(duplex), 반이중 방식(half-duplex), 전이중 방식(full-duplex)**의 세 가지 방식을 지원합니다.

- 세션 계층은 통신하는 애플리케이션의 요구사항과 네트워크 환경에 따라 적절한 통신 방식을 선택하여 사용합니다.
    - 실시간 양방향 통신이 필요한 경우 동시 송수신 방식이나 전이중 방식을 선택합니다.
    - 비용을 절감해야 하는 경우 반이중 방식을 선택할 수 있습니다.
    - 네트워크 대역폭이 충분하고 혼잡하지 않은 경우 동시 송수신 방식이나 전이중 방식을 사용할 수 있습니다.

#### 동시 송수신 방식 (Duplex)

- 동시 송수신 방식(duplex)는 두 개의 통신 장치가 동시에 데이터를 송수신할 수 있는 방식입니다. 
    - 데이터 송수신이 동시에 이루어지므로 통신 효율이 높습니다.
    - 실시간 양방향 통신이 가능합니다.

- 예를 들어, 전화 통화, 화상 회의, 인터넷 등이 동시 송수신 방식입니다.
    - **전화 통화** : 상대방과 동시에 말하고 들을 수 있습니다.
    - **화상 회의** : 여러 참가자가 동시에 음성과 영상 데이터를 주고받습니다.
    - **인터넷** : 웹 브라우징, 파일 다운로드 및 업로드 등 대부분의 인터넷 통신은 동시 송수신 방식을 사용합니다.

#### 반이중 방식 (Half-Duplex)

- 반이중 방식(half-duplex)은 두 개의 통신 장치가 데이터를 송수신할 수 있지만, 동시에는 불가능하고 한 번에 한쪽 방향으로만 통신이 가능한 방식입니다. 
    - 통신 효율은 동시 송수신 방식보다 낮지만, 구현이 간단하고 비용이 저렴합니다.
    - 송수신 방향 전환에 시간이 소요됩니다.

- 예를 들어, 무전기, 팩스 등이 반이중 방식입니다.
    - **무전기** : 한 사람이 말하는 동안 다른 사람은 들을 수만 있고, 말하려면 상대방이 말을 마칠 때까지 기다려야 합니다.
    - **팩스** : 문서를 보내는 동안 다른 팩스를 받을 수 없고, 문서 전송이 완료된 후에야 다른 팩스를 받을 수 있습니다.

#### 전이중 방식 (Full-Duplex)

- 전이중 방식(full-duplex)은 동시 송수신 방식의 한 종류로, 두 개의 통신 장치가 각각 독립된 채널을 통해 동시에 데이터를 송수신할 수 있는 방식입니다.
    - 동시 송수신 방식 중에서도 가장 높은 통신 효율을 제공합니다.
    - 송수신 방향 전환 없이 데이터를 주고받을 수 있습니다.

- 예를 들어, 광섬유 통신, 일부 고속 네트워크 장비 등이 전이중 방식입니다.
    - **광섬유 통신** : 두 개의 광섬유를 사용하여 각각 다른 방향으로 데이터를 동시에 전송합니다.
    - **일부 고속 네트워크 장비** : 전이중 방식을 지원하여 대용량 데이터를 빠르게 처리합니다. 




---

 


## 6 계층 - 표현 계층 (Presentation Layer)

| 특징 | 설명 |
| --- | --- |
| 프로토콜 | ASCII, 유니코드, MIME, EBCDIC, UTF-8, MBCS. EUC-KR, JPG, MP3, MPEG 등 |

- **표현 계층**은 **응용 계층에서 주고받는 데이터를 서로 이해할 수 있는 형태로 변환**하는 역할을 담당합니다.
    - **코드 간의 번역**을 담당하여 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용 계층으로부터 덜어 줍니다.
    - **서로 다른 시스템 간의 데이터 형식 차이를 해결**하여 원활한 통신을 가능하게 합니다.

- 표현 계층은 사용자가 직접 인지하지 못하는 경우가 많지만, 응용 프로그램들이 서로 다른 시스템과 통신할 때 데이터를 올바르게 해석하고 처리할 수 있도록 중요한 역할을 수행합니다.

- MIME 인코딩이나 암호화 등의 동작이 이 계층에서 이루어집니다.
    - 예를 들면, EBCDIC로 인코딩된 문서 파일을 ASCII로 인코딩된 파일로 바꿔 주는 것은 표현 계층의 몫입니다.
    - 최근에는 문자 데이터 외에도 음성, 동영상 등 멀티미디어 트래픽, 데이터도 포함됩니다.


### 표현 계층의 주요 기능

#### 데이터 형식 변환

- **코드 변환** : 서로 다른 문자 코드(ASCII, EBCDIC, Unicode 등)를 변환하여 시스템 간 호환성을 보장합니다.
- **데이터 압축 및 암호화** : 데이터 크기를 줄이거나 보안을 강화하기 위해 압축 및 암호화를 수행합니다.
- **파일 형식 변환** : 이미지, 동영상, 문서 등 다양한 파일 형식을 변환하여 다른 시스템에서도 열고 사용할 수 있도록 합니다.

#### 데이터 구조 표현

- **추상 구문 표기법 (ASN.1)** : 데이터 구조를 표현하는 표준 방식으로, 서로 다른 시스템 간에 복잡한 데이터 구조를 교환할 때 사용됩니다.
- **XML, JSON** : 데이터를 구조화하여 표현하는 데 널리 사용되는 마크업 언어 및 데이터 교환 형식입니다.


### 표현 계층의 중요성

- **시스템 간 호환성** : 서로 다른 시스템 간의 데이터 형식 차이를 해결하여 원활한 통신을 가능하게 합니다.
- **데이터 효율성** : 데이터 압축을 통해 네트워크 대역폭을 절약하고 전송 시간을 단축합니다.
- **데이터 보안** : 암호화를 통해 데이터를 보호하고 무단 접근을 방지합니다.


### 표현 계층에서 사용되는 프로토콜의 예시

- **ASCII, EBCDIC, Unicode** : 문자 코드 변환.
- **JPEG, MPEG, GIF** : 이미지 및 동영상 압축.
- **ZIP, RAR** : 파일 압축.
- **SSL, TLS** : 데이터 암호화.
- **ASN.1, XML, JSON** : 데이터 구조 표현.


### 표현 계층의 핵심적인 데이터 표현 기술 : MIME

- 표현 계층은 OSI 7계층 모델에서 데이터 형식 변환, 압축, 암호화 등을 담당하여 서로 다른 시스템 간의 데이터 교환을 가능하게 하는 계층이며, **MIME**은 이러한 표현 계층의 기능을 실질적으로 구현하는 핵심 기술 중 하나입니다.
    - 이메일, 웹 브라우징, 파일 전송 등 다양한 분야에서 MIME은 데이터를 정확하고 효율적으로 전송하는 데 핵심적인 역할을 합니다.

- MIME(Multipurpose Internet Mail Extensions)은 **인터넷에서 다양한 종류의 데이터를 전송하기 위한 표준 방식**입니다.
    - 원래는 이메일을 통해 텍스트뿐만 아니라 이미지, 동영상, 음악 등 다양한 파일을 전송하기 위해 개발되었지만, 현재는 웹 브라우저와 웹 서버 간의 데이터 교환에도 널리 사용되고 있습니다.

#### MIME의 주요 기능

1. **파일 형식 식별** : MIME은 각 파일에 Content-Type 헤더를 추가하여 파일의 종류를 명시합니다.
    - 예를 들어, image/jpeg, text/html, audio/mpeg 등의 파일 종류가 있습니다.
    - 이를 통해 수신 측은 파일 형식을 정확히 파악하고 적절한 프로그램으로 열 수 있습니다.

2. **텍스트 인코딩** : MIME은 텍스트 데이터의 문자 인코딩 방식을 지정하여 다른 시스템에서도 텍스트를 올바르게 표시할 수 있도록 합니다.
    - 예를 들어, UTF-8, EUC-KR 등의 인코딩 방식이 있습니다.

3. **파일 첨부** : MIME은 이메일이나 웹 폼을 통해 파일을 첨부하여 전송할 수 있도록 지원합니다.
    - 첨부 파일은 Base64 인코딩 등을 통해 텍스트 형태로 변환되어 전송됩니다.

#### MIME의 중요성

- **다양한 데이터 전송** : MIME은 텍스트, 이미지, 동영상, 음악 등 다양한 종류의 데이터를 인터넷을 통해 안전하고 효율적으로 전송할 수 있도록 합니다.
- **시스템 호환성** : MIME은 서로 다른 시스템 간의 데이터 교환을 위한 표준을 제공하여 호환성 문제를 해결합니다.
- **사용자 편의성** : MIME은 사용자가 다양한 종류의 파일을 쉽게 주고받을 수 있도록 지원합니다.




---




## 7 계층 - 응용 계층 (Application Layer)

| 특징 | 설명 |
| --- | --- |
| 전송 단위 | Message 또는 Data |
| 대표 장치 | L7 Switch, 방화벽 |
| 프로토콜 | FTP, HTTP, HTTPS, XML, Telnet, SSH, SMTP, POP3, IMAP 등 |

- 응용 계층은 우리가 컴퓨터나 스마트폰으로 인터넷을 사용할 때 직접 마주하는 계층입니다.
    - 웹 브라우저, 이메일 클라이언트, 파일 전송 프로그램 등이 모두 응용 계층에서 동작하며, 사용자가 원하는 작업을 수행할 수 있도록 다양한 기능을 제공합니다. 
        - 웹 브라우저에서 웹 페이지를 열 때 HTTP 프로토콜을 사용합니다.
        - 이메일을 보낼 때 SMTP 프로토콜을, 이메일을 받을 때 POP3 또는 IMAP 프로토콜을 사용합니다.
        - 파일을 전송할 때 FTP 프로토콜을 사용합니다. 


### 응용 계층의 주요 기능

- **사용자/애플리케이션의 네트워크 접근:** 사용자 또는 애플리케이션이 네트워크를 사용할 수 있도록 인터페이스를 제공합니다. 
- **응용 서비스 수행:** 응용 프로세스 간 데이터 교환 및 다양한 서비스를 제공합니다.
    - 예를 들어, 이메일, 파일 전송, 웹 브라우징 등이 있습니다.


### 응용 계층의 특징

- **사용자에게 보이는 유일한 계층** : 사용자가 직접 상호작용하는 계층입니다.
- **다양한 프로토콜 지원** : HTTP, FTP, SMTP, POP3, IMAP, Telnet 등 다양한 프로토콜을 사용하여 특정 서비스를 제공합니다.
- **TCP/IP 4계층 모델의 최상위 계층** : 하위 계층에서 전달된 데이터를 해석하고 사용자에게 전달합니다.
- **포트 번호 활용** : 포트 번호를 통해 전송 계층 및 세션 계층과 통신합니다.




---



응용 계층은 사용자 또는 애플리케이션이 네트워크 접근할 수 있도록 해 준다.
사용자를 위한 인터페이스를 제공하며, 사용자에게 보이는 유일한 계층이라고 할 수 있다.
메일 전송, 인터넷 접속 등의 작업을 수행할 수 있다.
최종 목적지로서 HTTP, FTP, SMTP, POP3, IMAP, Telnet 등과 같은 프로토콜이 있다.



응용 계층(Application layer)은 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행한다.
일반적인 응용 서비스는 관련된 응용 프로세스들 사이의 전환을 제공한다.
응용 서비스의 예로, 가상 터미널(예를 들어, 텔넷), "Job transfer and Manipulation protocol" (JTM, 표준 ISO/IEC 8832) 등이 있다.

    네트워크 소프트웨어 UI 부분
    사용자의 입출력(I/O)부분

 
TCP/IP 4계층일 경우 하위 3계층 TCP/IP 프로토콜 스택을 통해 전달받은 패킷을 다시 파싱해 응용S/W(네트워크 SW)를 통해 최종적으로 사용자까지 데이터를 전달한다.

응용 계층은 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행한다. 일반적인 응용 서비스는 관련된 응용 프로세스들 사이의 전환을 제공한다. 응용 서비스의 예로, 가상 터미널(예를 들어, 텔넷), "Job transfer and Manipulation protocol" (JTM, 표준 ISO/IEC 8832) 등이 있다.

WWW를 위한 HTTP 는 L7 에서 동작하는 프로토콜이다.

포트 번호를 통해 L4~L5와 통신한다.







---



## Reference

- <https://ko.wikipedia.org/wiki/OSI_모형>
- <https://namu.wiki/w/OSI%20모형>
- <https://khys.tistory.com/70>
- <https://www.youtube.com/watch?v=Oyit5eo4UsY&t=56s>
