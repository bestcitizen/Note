---
layout: skill
title: OSI Model (OSI 7 계층)
date: 2024-09-05
---




## OSI 7 계층 : 네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것

- **OSI Model**(Open Systems Interconnection Reference Model)은 국제표준화기구(ISO)에서 개발한 모델로, **컴퓨터 네트워크 프로토콜 디자인과 통신을 계층으로 나누어 개념적으로 설명한 것**입니다.
    - 일반적으로 OSI 7 계층이라 불리기도 합니다.
    - 데이터 통신을 **7개의 추상적인 계층으로 분리**하고, 프로토콜을 네트워킹 기능으로 적절히 묶어 **표준화**합니다.

- OSw 7 계층 모델은 네트워크 통신 과정을 **7개의 추상적인 계층**으로 나누어 **각 계층이 특정 기능을 수행하도록 정의한 개념적 프레임워크**입니다.
    - 이는 복잡한 네트워크 통신 과정을 단계별로 이해하고, 문제 발생 시 해당 계층만 집중적으로 분석하여 해결할 수 있도록 돕습니다.
    - 또한, 다양한 벤더와 기술 간의 상호 운용성을 보장하여 효율적인 통신 환경을 구축할 수 있도록 합니다.
 
- network 문제가 발생했을 때, OSI Model은 **다른 계층에 있는 장비나 소프트웨어를 건드리지 않고 문제를 해결**할 수 있도록 돕습니다.
    - 만약 회사에서 업무를 보는데 인터넷 연결이 끊겼다면, 문제의 원인이 어디에 있는지 알아봐야 할 것입니다.
    - 모든 PC에 문제가 있다면, 라우터의 문제(3 계층 네트워크 계층)이거나 광랜을 제공하는 회사의 회선(1 계층 물리 계층) 문제일 가능성이 높습니다.
    - 한 PC만 문제가 있다면, 문제 PC가 사용하는 소프트웨어(7 계층 애플리케이션 계층)의 문제일 수 있습니다.
    - 소프트웨어에 문제가 없다면, 스위치(2 계층 데이터 링크 계층)의 문제일 수 있습니다.

- 각 계층은 **하위 계층의 기능만을 이용**하고, **상위 계층에게 기능을 제공**합니다.
    - 프로토콜 스택은 하드웨어나 소프트웨어 혹은 둘의 혼합으로 구현될 수 있습니다.
        - 프로토콜 스택(혹은 스택) : 상위와 하위 계층들로 구성되는 프로토콜 시스템이 구현된 시스템.
    - 이러한 프로토콜 스택은 일반적으로 **하위 계층들은 하드웨어로, 상위 계층들은 소프트웨어로 구현**됩니다.

| 계층 | 특징 | 주요 프로토콜/기술 |
| --- | --- | --- |
| **L7. 응용 계층 (Application)** | 사용자 인터페이스 제공, 데이터 표현 및 변환 | HTTP, FTP, IRC, SSH, DNS |
| **L6. 표현 계층 (Presentation)** | 데이터 형식 변환, 암호화 및 압축 | SSL, SSH, IMAP, FTP, MPEG, JPEG |
| **L5. 세션 계층 (Session)** | 통신 세션 설정, 관리 및 종료 | API, Sockets, WinSock |
| **L4. 전송 계층 (Transport)** | 데이터 신뢰성 및 흐름 제어, 포트 번호 사용 | TCP, UDP |
| **L3. Network 계층 (Network)** | 논리 주소 지정 및 라우팅 | IP, ICMP, IPSec, IGMP |
| **L2. Data Link 계층 (Data Link)** | 물리 주소 지정 및 오류 검출 | Ethernet, PPP, Switch, Bridge |
| **L1. 물리 계층 (Physical)** | 데이터 비트 전송, 물리적 연결 및 신호 변환 | Coax, Fiber, Wireless, Hubs, Repeaters |




---




## Layer 1. 물리 계층 (Physical Layer)

| 특징 | 설명 |
| --- | --- |
| **전송 단위** | bit (1과 0) |
| **대표 장치** | 케이블, 안테나, 앰프, 네트워크 허브, 리피터 등 |
| **Protocol** | 이더넷, USB 등 케이블 , Bluetooth, Wi-Fi, LTE, 5G 등 안테나 |

- 물리 계층은 **실제 장치들을 연결하기 위해 필요한 전기적, 물리적 세부 사항들을 정의**합니다.
    - 예를 들어, 핀들의 배치나 전압, 전선의 명세 등이 이 계층에 포함됩니다.

- 물리 계층은 네트워크상에서 **데이터 비트를 전송하는 계층**이며, **데이터를 전기적인 아날로그 신호(1과 0, On과 Off)로 변환해서 주고받는 기능**을 합니다.
    - 1과 0으로 이루어진 bit만 전달하면 되기 때문에 주로 전기적, 기계적, 기능적인 특성을 이용한 **통신 케이블로 데이터를 전송**합니다.
        - 물리 계층에서 유일하게 사용되는 통신 단위는 1과 0으로 나뉘는 비트이며, 1과 0은 전기적으로 On, Off 상태입니다.
    - 따라서 물리 계층에서 쓰이는 대표적인 장비는 통신 케이블, 리피터, 허브 등의 전기 신호 전송 매체이며, 신호를 보내는 방법은 이러한 전송 매체에 의해 결정됩니다.

- 물리 계층에서는 단지 **데이터를 전달만 할 뿐**, 전송하거나 받으려는 데이터가 무엇인지, 어떤 오류가 있는지 등에는 전혀 신경 쓰지 않습니다.
    - 물리 계층은 단순히 전기적 신호나 빛 신호를 전송하는 역할만 담당합니다.
    - 데이터 링크 개체 간의 비트 전송을 위한 물리적 연결을 설정하고 유지하고 해제하기 위한 수단만을 제공합니다.


### 물리 계층에서 수행되는 중요한 일들

1. 물리적인 정보 전달 매개체에 대한 연결의 성립 및 종료.

2. 여러 사용자들 간의 통신 자원을 효율적으로 분배하는 데 관여.
    - 예를 들어, 경쟁 상태의 해소나 흐름 제어(congestion control) 등.

3. 통신 채널을 통해 전송되는 사용자 장치의 디지털 데이터를 이에 상응하는 아날로그 신호들로 변환, 변조.
    - 이 신호들은 구리선이나 광섬유 선을 또는 무선 통신을 통해 전달되는 신호들입니다.
    - 예를 들어, SCSI가 여기에 속합니다.




---




## Layer 2. 데이터 링크 계층 (Data Link Layer)

| 특징 | 설명 |
| --- | --- |
| 전송 단위 | frame (Preamble+DA+SA+DATA+fcs+....) |
| 대표 장치 | L2 Switch, 모뎀, 기지국, AP |
| 프로토콜 | CSMA/CD, CSMA/CA, Slott Aloha, DAC/ADC, Multiplexer, Demultiplexer, MAC주소 관리 등 |

- 데이터 링크 계층은 물리 계층 위에서 동작하며, **같은 네트워크 내 장치들 간의 데이터 전송을 담당**하는 계층입니다.
    - 물리적인 신호 전달을 넘어, **안정적이고 효율적인 데이터 전송을 가능하게 하는 핵심적인 역할**을 수행합니다.
        - **물리 계층을 통해 송수신되는 정보의 오류와 흐름을 관리**하여 안전한 정보의 전달을 수행할 수 있도록 도와줍니다.
        - 패리티 비트 검사, 해밍 부호 검사 등의 방법으로 통신에서의 오류를 검출하고, 오류가 있다면 데이터를 재전송합니다.
    - **네트워크 통신의 기본 토대**를 제공하며, 상위 계층들이 원활하게 동작할 수 있도록 지원합니다. 

- 데이터 링크 계층은 **MAC 주소(MAC address)를 가지고 통신**하며, 주소 체계는 계층이 없는 단일 구조입니다.
    - 주소 값은 물리적으로 할당 받는데, 이는 네트워크 카드가 만들어질 때부터 맥 주소가 정해져 있다는 뜻입니다.
    - 데이터 링크 계층의 대표적인 장비인 브리지와 스위치 등에서 MAC 주소를 활용합니다.

- 데이터 링크 계층의 대표적인 장비로는 스위치, 브리지 등이 있고, 프로토콜로는 이더넷, Wi-Fi, PPP 등이 있습니다.
    - 이 외에도 HDLC나 ADCCP 같은 포인트 투 포인트(point-to-point) 프로토콜이나 패킷 스위칭 네트워크나 LLC, ALOHA 같은 근거리 네트워크용 프로토콜이 있다.
    - 네트워크 브릿지나 스위치 등이 이 계층에서 동작하며, 직접 이어진 곳에만 연결할 수 있습니다.

- 데이터 링크 계층은 **네트워크 연결의 핵심**이며, **상위 계층들이 효과적으로 기능할 수 있는 기반**을 제공합니다. 
    - 데이터 링크 계층이 네트워크 연결의 핵심이라고 불리는 이유는 **물리적인 연결 위에서 실질적인 데이터 전송을 가능하게 하는 다리 역할**을 하기 때문입니다.
        - 데이터 링크 계층이 없다면, 상위 계층들은 물리적인 신호를 해석하고 처리할 수 없어 네트워크 통신 자체가 불가능해집니다.
    - 데이터 링크 계층은 물리 계층과 네트워크 계층 사이의 핵심 연결 고리 역할을 하는 **네트워크 연결의 기본**입니다.
    - 오류 검출 및 수정, 흐름 제어 등을 통해 데이터 손실을 최소화하고 안정적인 통신을 가능하게 하여 **데이터 전송의 신뢰성**을 책임집니다.


### 데이터 링크 계층의 주요 기능

1. **물리 주소 지정 (MAC 주소)** : 물리 계층으로부터 받은 신호들이 네트워크 상의 장치에 올바르게 안착할 수 있게 합니다.
    - 각 네트워크 인터페이스 카드(NIC)에 고유한 MAC 주소를 할당하여 데이터의 출발지와 목적지를 식별합니다.
    - 이를 통해 네트워크 내 여러 장치들이 서로를 구분하고 통신할 수 있게 합니다.

2. **프레임 구성 및 전송** : 네트워크 계층에서 받은 데이터를 프레임이라는 단위로 나누고, 헤더와 트레일러를 추가하여 전송 준비를 합니다.
    - 헤더에는 MAC 주소, 오류 검출 코드 등 제어 정보가 포함되고, 트레일러에는 오류 검출을 위한 정보가 담깁니다.

3. **오류 검출 및 수정** : 전송 과정에서 발생할 수 있는 오류를 감지하고, 필요한 경우 재전송을 요청하여 데이터의 신뢰성을 보장합니다.
    - 대표적인 오류 검출 방식으로는 CRC(Cyclic Redundancy Check)가 있습니다.

4. **흐름 제어** : 송신 측과 수신 측의 데이터 처리 속도 차이를 조절하여 데이터 손실을 방지합니다.
    - 수신 측의 버퍼 오버플로우를 막고, 원활한 데이터 흐름을 유지합니다.

5. **매체 접근 제어 (MAC)** : 여러 장치가 동시에 데이터를 전송하려 할 때 충돌을 방지하고, 효율적인 통신을 가능하게 합니다.
    - CSMA/CD, 토큰 링 등 다양한 매체 접근 제어 방식이 사용됩니다.


### 다른 계층과의 차이를 통해 데이터 링크 계층 이해하기

#### 물리 계층과의 차이 : 신호 vs 데이터

- **물리 계층** : 단순히 전기적 신호나 빛 신호를 전송하는 역할만 담당합니다.
- **데이터 링크 계층** : 물리적인 신호를 의미 있는 데이터 단위(프레임)로 구성하고, 주소 정보, 오류 검출 코드 등을 추가하여 안정적인 데이터 전송을 가능하게 합니다.

#### 네트워크 계층과의 차이 : 로컬 vs 글로벌

- 네트워크 계층이 '큰 그림'을 그린다면, 데이터 링크 계층은 그 그림을 실제로 구현하는 '붓'과 같습니다.

- **네트워크 계층** : 다른 네트워크로 데이터를 전달하는 라우팅 기능을 담당하며, 논리적인 주소(IP 주소)를 사용합니다. 
- **데이터 링크 계층** : 같은 네트워크 내 장치들 간의 통신을 담당하며, 물리적인 주소(MAC 주소)를 사용합니다.

#### 전송 계층과의 차이 : 연결 vs 신뢰성

- **전송 계층** : 데이터의 순서 보장, 흐름 제어, 오류 복구 등을 통해 종단 간(end-to-end) 신뢰성 있는 데이터 전송을 보장합니다.
- **데이터 링크 계층** : 물리적인 링크 상에서의 오류 검출 및 재전송을 통해 데이터의 신뢰성을 보장하지만, 종단 간 신뢰성까지는 책임지지 않습니다.


### 데이터 링크 계층의 MAC 주소 : 네트워크 장치를 식별하는 고유한 주소

- MAC 주소는 **Media Access Control Address**의 약자로, 네트워크에 연결된 각 장치에 할당되는 고유한 식별자입니다.
    - 네트워크 상에서 각 장치를 구분하기 위한 '주민등록번호'와 같은 역할을 합니다. 

- MAC 주소는 전세계에서 고유한 물리적 주소입니다.
    - **고유성** : 각 장치는 제조 과정에서 부여받은 MAC 주소를 가지며, 이는 전 세계에서 유일합니다. 
    - **물리적 주소** : MAC 주소는 네트워크 인터페이스 카드(NIC)와 같은 하드웨어에 내장되어 변경할 수 없습니다.
    - **형식** : 일반적으로 6쌍의 16진수로 표현되며, 예를 들면 `00:1A:2B:3C:4D:5E`와 같은 형태입니다.

- MAC 주소는 로컬 네트워크 통신, 네트워크 관리 및 보안에 사용됩니다.
    - **로컬 네트워크 통신** : 같은 네트워크에 연결된 장치들은 MAC 주소를 사용하여 서로 데이터를 주고받습니다.
    - **네트워크 관리** : 네트워크 관리자는 MAC 주소를 이용하여 특정 장치를 식별하고 관리할 수 있습니다.
    - **보안** : MAC 주소 필터링을 통해 특정 장치만 네트워크에 접근하도록 제한할 수 있습니다.

- MAC 주소는 IP 주소와 완전히 다른 특성과 용도를 가집니다.
    - **MAC 주소** : 하드웨어에 내장된 물리적 주소, 로컬 네트워크 내에서 사용.
    - **IP 주소** : 네트워크 상에서 할당되는 논리적 주소, 인터넷 통신에 사용.




---




## Layer 3. 네트워크 계층 (Network Layer)

| 특징 | 설명 |
| --- | --- |
| 전송 단위 | Packet |
| 대표 장치 | Router, L3 Switch |
| 프로토콜 | IP, ARP/NDP, RIP, RIP v2, OSPF, IGRP, EIGRP, BGP 등등의 Routing Protocol, AS번호, NAT 등 |


위키피디아

네트워크 계층(Network layer)은 여러개의 노드를 거칠때마다 경로를 찾아주는 역할을 하는 계층으로 다양한 길이의 데이터를 네트워크들을 통해 전달하고, 그 과정에서 전송 계층이 요구하는 서비스 품질(QoS)을 제공하기 위한 기능적, 절차적 수단을 제공한다. 네트워크 계층은 라우팅, 흐름 제어, 세그멘테이션(segmentation/desegmentation), 오류 제어, 인터네트워킹(Internetworking) 등을 수행한다. 라우터가 이 계층에서 동작하고 이 계층에서 동작하는 스위치도 있다. 데이터를 연결하는 다른 네트워크를 통해 전달함으로써 인터넷이 가능하게 만드는 계층이다. 논리적인 주소 구조(IP), 곧 네트워크 관리자가 직접 주소를 할당하는 구조를 가지며, 계층적(hierarchical)이다.

서브네트의 최상위 계층으로 경로를 설정하고, 청구 정보를 관리한다. 개방형 시스템들의 사이에서 네트워크 연결을 설정, 유지, 해제하는 기능을 부여하고, 전송 계층 사이에 네트워크 서비스 데이터 유닛(NSDU : Network Service Data Unit)을 교환하는 기능을 제공한다.

주소부여(IP)
경로설정(Route)



네트워크 계층(영어: network layer)은 컴퓨터 네트워킹의 7계층 OSI 모형 가운데 제3계층이다. 네트워크 계층은 중간 라우터를 통한 라우팅을 포함하여 패킷 포워딩을 담당하며, 이에 반해 데이터 링크 계층은 매체 접근 제어, 흐름 제어, 오류 검사를 맡는다.

네트워크 계층의 기능은 다음과 같다:

연결 모델: 비연결 지향 통신
호스트 주소 할당: 네트워크 내 모든 호스트는 고유 주소를 갖추어야 한다.
메시지 포워딩






T 스토리

네트워크 계층은 경로를 선택하고 주소를 정한 뒤, 경로에 따라 패킷을 전달해 주는 역할을 한다. 이 계층의 대표적인 장비는 라우터이며, 요즘은 2 계층의 장비 중 스위치라는 장비에 라우팅 기능을 장착한 Layer 3 스위치도 있다. 라우터에서 IP 주소를 활용하며, 위에서 언급한 주소를 정한다는 것이 바로 IP 주소를 의미한다. 참고로 네이버나 구글 같은 도메인 주소를 55.10.54.75 같은 IP 주소로 변환하는 행위를 DNS라고 한다.

B라는 지점에 IP 주소인 55.10.54.75를 부여하고, A에서 B까지 경로를 찾기 위한 라우팅 기술을 사용하는 것이다.

 






나무위키


네트워크 계층은 여러 개의 노드를 거칠 때마다 경로를 찾아주는 역할을 하는 계층으로 다양한 길이의 데이터를 네트워크들을 통해 전달하고, 그 과정에서 전송 계층이 요구하는 서비스 품질(QoS)을 제공하기 위한 기능적, 절차적 수단을 제공한다. 네트워크 계층은 라우팅, 패킷 포워딩, 세그멘테이션(segmentation/desegmentation), 인터네트워킹(Internetworking) 등을 수행한다. 라우터가 이 계층에서 동작하고 이 계층에서 동작하는 스위치도 있다. 데이터를 연결하는 다른 네트워크를 통해 전달함으로써 인터넷이 가능하게 만드는 계층이다. 논리적인 주소 구조(IP), 곧 네트워크 관리자가 직접 주소를 할당하는 구조를 가지며, 계층적(hierarchical)이다. 3/4계층은 TCP/IP 프로토콜 스택은 컴퓨터 커널 내부에 구현되며, 하위 2계층과 디바이스 드라이버(네트워크 드라이버)를 통해 컴퓨터 내부에서 데이터를 통신한다. 선결조건으로 운영체제에서 네트워크 장치(모뎀, 랜카드)가 사전에 인식되어 있어야 한다. TCP/IP 프로토콜 스택은 2계층에서 받은 데이터(프레임)을 소켓 인터페이스를 통해 7계층(응용계층, TCP/IP 4계층)으로 올려보낸다.

서브네트의 최상위 계층으로 경로를 설정하고, 청구 정보를 관리한다. 개방 시스템들의 사이에서 네트워크 연결을 설정, 유지, 해제하는 기능을 부여하고, 트랜스포트 계층 사이에 네트워크 서비스 데이터 유닛(NSDU: Network Service Data Unit)을 교환하는 기능을 제공한다.

현재 사용하는 인터넷은 기본적으로는 네트워크 계층에 속하는 망이다. L3~L5 사이는 보통 국제인터넷표준화기구(IETF)에서 규격을 관리한다.
























---




## 4 계층 - 전송 계층 (Transport Layer)

전송 계층에서는 데이터를 전송하고, 전송 속도를 조절하며, 오류가 발생된 부분은 다시 맞춰 주는 계층이다. 데이터를 전송받은 경우, 전송 계층에서 데이터를 합산하여 세션 계층으로 보내주게 된다.

주로 TCP, UDP 프로토콜을 사용하며, 헤더에 송신지와 수신지의 포트 번호를 포함하여 전달하는 계층이다. 참고로, TCP의 데이터 전송 단위는 Segment, UDP의 데이터 전송 단위는 Datagram이라고 부른다.

 

### 포트 번호란?

하나의 컴퓨터에서 동시에 실행되고 있는 프로세스들이 서로 겹치지 않게 가져야 하는 정수 값이다.

 

### 네트워크 계층 vs 전송 계층

네트워크 계층은 호스트 간의 논리적 통신을 돕지만, 전송 계층은 응용 프로세스 간의 논리적을 통신을 돕는다.

 

## 5 계층 - 세션 계층
세션 계층은 네트워크상 양쪽 연결을 관리하고 연결을 지속시켜 주는 계층이다. 주로, TCP/IP 세션을 만들고 유지하며, 세션이 종료되거나 전송이 중단될 시 복구하는 기능이 있다. 더불어, 통신하는 사용자들을 동기화한다는 특징이 있다.

통신 연결은 포트 기반으로 구성하여 연결하며, 운영 체제가 통신을 하기 위한 세션 확립/유지/중단 과정을 해 준다.

 

### 세션이란?

세션이란 일정 시간 동안 같은 사용자로부터 들어오는 일련의 요구를 하나의 상태로 보고 그 상태를 일정하게 유지하는 기술을 말한다. 여기서 일정 시간이란, 방문자가 웹 브라우저를 통해 웹 서버에 접속한 시점으로부터 웹 브라우저는 종료함으로써 연결을 끝내기까지의 기간을 말한다. 즉, 방문자가 웹 서버에 접속해 있는 상태를 하나의 단위로 보고 세션이라고 부른다.

 

## 6 계층 - 표현 계층

표현 계층은 코드 간의 번역을 담당하여 사용자 시스템에서 데이터의 형식 상 차이를 다루는 부담을 응용 계층으로부터 덜어 준다. MIME 인코딩이나 암호화 등의 동작이 이 계층에서 이루어진다.

예를 들어, EBCDID로 인코딩 된 문서 파일을 ASCII로 인코딩 된 파일로 바꿔 주는 것이나 특정 데이터가 text인지, gif인지, jpg인지 등의 구분을 해 준다.

 

## 7 계층 - 응용 계층

응용 계층은 사용자 또는 애플리케이션이 네트워크 접근할 수 있도록 해 준다. 사용자를 위한 인터페이스를 제공하며, 사용자에게 보이는 유일한 계층이라고 할 수 있다. 메일 전송, 인터넷 접속 등의 작업을 수행할 수 있다. 최종 목적지로서 HTTP, FTP, SMTP, POP3, IMAP, Telnet 등과 같은 프로토콜이 있다.

 













---



## Reference

- <https://ko.wikipedia.org/wiki/OSI_모형>
- <https://namu.wiki/w/OSI%20모형>
- <https://khys.tistory.com/70>
